[
    {
	"memoryReservation": 400,
	"logConfiguration": {
	    "logDriver": "awslogs",
	    "options": {
		"awslogs-group": "openjobs",
		"awslogs-region": "us-east-2",
		"awslogs-stream-prefix": "web"
	    }
	},
	"name": "control",
	"environment": [
        {
            "name": "GM_CONTROL_CONSOLE_LEVEL",
            "value": "debug"
        },
        {
            "name": "GM_CONTROL_API_KEY",
            "value": "xxx"
        },
        {
            "name": "GM_CONTROL_API_ZONE_NAME",
            "value": "zone-default-zone"
        },
        {
            "name": "GM_CONTROL_API_INSECURE",
            "value": "true"
        },
        {
            "name": "GM_CONTROL_API_SSL",
            "value": "false"
        },
        {
            "name": "GM_CONTROL_API_HOST",
            "value": "aws_lb.control-api.dns:5555"
        },
        {
            "name": "GM_CONTROL_CMD",
            "value": "ecs"
        },
        {
            "name": "GM_CONTROL_ECS_AWS_REGION",
            "value": "us-east-2"
        },
        {
            "name": "GM_CONTROL_ECS_CLUSTERS",
            "value": "gm-cluster"
        },
        {
            "name": "GM_CONTROL_XDS_RESOLVE_DNS",
            "value": "true"
        },
        {
            "name": "GM_CONTROL_XDS_ENABLE_REST",
            "value": "true"
        },
        {
            "name": "GM_CONTROL_ECS_AWS_ACCESS_KEY_ID",
            "valueFrom": "${aws_ssm_parameter.access_key.arn}"
        },
        {
            "name": "GM_CONTROL_ECS_AWS_SECRET_ACCESS_KEY",
            "valueFrom": "${aws_ssm_parameter.secret_access_key.arn}"
        }
	],
	"image": "docker.greymatter.io/development/gm-control:latest",
	"repositoryCredentials": {
	    "credentialsParameter": "${var.docker_secret_arn}"
	},
	"portMappings": [
            {
		"hostPort": 50001,
		"containerPort": 50001,
		"protocol": "tcp"
            }
	]
    }
]
